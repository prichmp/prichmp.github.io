<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>Pebble Formatter</title>

    <!-- Mobile tags -->
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, width=device-width, height=device-height">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    <!-- HTML Metadata -->
    <meta name="description" content="The Pebble FormatterWrite Forward uses Pebble a lightweight, decently-fast template engine originally designed for webpages. Write Forward uses it to format ...">
    <meta name="keywords" content="">

    <meta name='robots' content='index,follow'>
    <meta name='revisit-after' content='7 days'>
    <meta name='revised' content='2016-05-02 16:48:54 -0600'>

    <meta name='author' content='Matthew Prichard <green.matt@comcast.net>'>

    <!-- Permalink location of the page (full https://www.example.com format) -->
    <link rel="canonical" href="http://prichmp.github.io/Write-Forward/documentation/2016/05/02/pebble.html">

    <!-- Atom/RSS feeds -->
    <link rel="alternate" type="application/rss+xml" title="Write Forward" href="http://prichmp.github.io/Write-Forward/feed.xml">

    <!-- Schema.org micro data -->
    <meta itemprop="name" content="Pebble Formatter">
    <meta name="description" content="The Pebble FormatterWrite Forward uses Pebble a lightweight, decently-fast template engine originally designed for webpages. Write Forward uses it to format ...">
    <meta itemprop="image" content="images/icons/favicon-194x194.png">

    <!-- Facebook open graph -->
    <meta property="og:url" content="/Write-Forward">
    <meta property="og:title" content="Pebble Formatter">
    <meta property="og:image" content="images/icons/favicon-194x194.png">
    <meta property="og:site_name" content="Pebble Formatter">
    <meta property="og:description" content="The Pebble FormatterWrite Forward uses Pebble a lightweight, decently-fast template engine originally designed for webpages. Write Forward uses it to format ...">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Pebble Formatter">
    <meta name="twitter:description" content="The Pebble FormatterWrite Forward uses Pebble a lightweight, decently-fast template engine originally designed for webpages. Write Forward uses it to format ...">
    <meta name="twitter:image" content="images/icons/favicon-194x194.png">

    <!-- Icons -->
    <!-- Apple iOS Icons -->
    <link rel="apple-touch-icon" sizes="57x57" href="images/icons/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="images/icons/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/icons/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="images/icons/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/icons/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="images/icons/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="images/icons/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="images/icons/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/icons/apple-touch-icon-180x180.png">
    <!-- HTML Icons -->
    <link rel="shortcut icon" type="image/png" href="images/icons/favicon-32x32.png" sizes="32x32">
    <link rel="shortcut icon" type="image/png" href="images/icons/favicon-194x194.png" sizes="194x194">
    <link rel="shortcut icon" type="image/png" href="images/icons/favicon-96x96.png" sizes="96x96">
    <link rel="shortcut icon" type="image/png" href="images/icons/favicon-16x16.png" sizes="16x16">
    <!-- Android Icons and top bar color -->
    <link rel="manifest" href="images/icons/manifest.json">
    <meta name="theme-color" content="#ffffff">
    <!-- Windows Phone/Windows 10 Icons and metro tile color -->
    <meta name="msapplication-TileImage" content="images/icons/mstile-144x144.png">
    <meta name="msapplication-TileColor" content="#ed1c24">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="/Write-Forward/css/site.css">

    <!-- Syntax highlighter -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/styles/default.min.css">
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>

</head>


  <body style="background-image:url('/Write-Forward/images/blurry.jpg');">

    <div id="all">

    <header class="row-wrapper">

        <div class="row">

                <div class="column column-20">
                    <div class="logo"><a class="site-title" href="/Write-Forward/">Write Forward</a></div>
                </div><!-- .column -->

                <div id="nav-col" class="column column-80">
                    <nav>
                      <ul>
                        <li><a href="/Write-Forward/">Home</a></li>
                        <li><a href="/Write-Forward/documentation.html">Documentation</a></li>
                        <li><a href="/Write-Forward/download.html">Download</a></li>
                        <li><a href="//github.com/prichmp/Write-Forward">GitHub</a></li>
                      </ul>
                    </nav>
                </div><!-- .column -->

        </div><!-- .row -->

    </header>



                <main>

                <div class="row-wrapper">
                    <div class="row">

                        <div class="column column-20">
                            <ul class="toc">
                              
                                
                                <li><a class="page-link" href="/Write-Forward/documentation/2016/05/02/slf4j.html">Using SLF4J</a></li>
                                
                              
                                
                                <li><a class="page-link" href="/Write-Forward/documentation/2016/05/02/pebble.html">Pebble Formatter</a></li>
                                
                              
                                
                                <li><a class="page-link" href="/Write-Forward/documentation/2016/05/02/logback.html">Using Logback</a></li>
                                
                              
                            </ul>
                        </div><!-- .column -->

                        <div class="column column-80">

                            <h1 id="the-pebble-formatter">The Pebble Formatter</h1>
<p>Write Forward uses <a href="http://www.mitchellbosecke.com/pebble/home">Pebble</a> a lightweight, decently-fast template engine originally designed for webpages. Write Forward uses it to format output messages. One of the advantages of Pebble is that the message is compiled once and reused many times.</p>

<h2 id="configuration-file">Configuration File</h2>

<p>The following is a sample <code class="highlighter-rouge">/src/main/resources/write-forward-config.yaml</code> configuration file.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>writeforward:
         isslow: true
         numberofstackframes: 2
         outputs:
              - name: console
                format: |+ # See http://stackoverflow.com/questions/3790454/in-yaml-how-do-i-break-a-string-over-multiple-lines for YAML multiline strings.

                    [{{ level }}] {{ marker }} {{ timestamp }} {% if class is not empty %}{{ class }}:{{ line }}{% endif %}

                    {{ message }}

                    {% if exception is not empty %}
                    {{ exception }}

                    {% endif %}
                    {% if values is not empty %}
                    {% for value in values %}
                    {{ value.key }} = {{ value.value }}

                    {% endfor %}
                    {% endif %}
</code></pre>
</div>

<p>The writeforward –&gt; outputs –&gt; format key in the YAML file holds the format string for Pebble. By editing this format the output to the underlying logging framework is changed.</p>

<h2 id="applied-to-the-format">Applied to the Format</h2>
<p>The following variables are applied to each format when a new message is being formatted using Pebble.</p>

<table>
  <thead>
    <tr>
      <th>Key</th>
      <th style="text-align: right">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>exception</td>
      <td style="text-align: right">exception.toString()</td>
    </tr>
    <tr>
      <td>exception.message</td>
      <td style="text-align: right">exception.getLocalizedMessage()</td>
    </tr>
    <tr>
      <td>exception.cause</td>
      <td style="text-align: right">exception.getCause().toString()</td>
    </tr>
    <tr>
      <td>exception.name</td>
      <td style="text-align: right">exception.getClass().getName()</td>
    </tr>
    <tr>
      <td>timestamp</td>
      <td style="text-align: right">May 2, 2016 12:49:58 PM MDT</td>
    </tr>
    <tr>
      <td>time</td>
      <td style="text-align: right">12:49:58 PM MDT</td>
    </tr>
    <tr>
      <td>date</td>
      <td style="text-align: right">May 2, 2016</td>
    </tr>
    <tr>
      <td>method</td>
      <td style="text-align: right">The method name that Write Forward was called from. (e.x. myMethod)</td>
    </tr>
    <tr>
      <td>level</td>
      <td style="text-align: right">One of the logging levels in all caps (e.x. DEBUG)</td>
    </tr>
    <tr>
      <td>line</td>
      <td style="text-align: right">The line number that Write Forward was called from. May be -1 if the Write Forward configuration isslow = true</td>
    </tr>
    <tr>
      <td>values</td>
      <td style="text-align: right">A collection of map entries (i.e. values.entrySet()) representing any .withValue(String key, String value) entries.</td>
    </tr>
    <tr>
      <td>thread</td>
      <td style="text-align: right">The thread name that Write Forward was called from.</td>
    </tr>
    <tr>
      <td>message</td>
      <td style="text-align: right">The message as set with .message(String message)</td>
    </tr>
    <tr>
      <td>file</td>
      <td style="text-align: right">The filename of the file Write Forward was called from (e.x. MyClass.java)</td>
    </tr>
    <tr>
      <td>stacktrace</td>
      <td style="text-align: right">An array of <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/StackTraceElement.html">StackTraceElement</a></td>
    </tr>
    <tr>
      <td>marker</td>
      <td style="text-align: right">Each marker output with a space in-between (e.x. HTTPENGINE PLUGIN)</td>
    </tr>
    <tr>
      <td>class</td>
      <td style="text-align: right">The full class name of the location Write Forward was called from. (e.x. com.company.project.MyClass)</td>
    </tr>
  </tbody>
</table>


                        </div><!-- .column -->

                    </div><!-- .row -->
                </div><!-- .row-wrapper -->

             </main>



    
            <footer class="row-wrapper">

                <div class="row">

                    <div class="column column-50">
                        Hosted by <a href="https://pages.github.com/">Github Pages</a>
                    </div><!-- .column -->

                    <div class="column column-50">
                        <a href="https://github.com/prichmp/Write-Forward">Fork this on Github!</a>
                    </div><!-- .column -->

                </div><!-- .row -->

            </footer>

        </div><!-- #all -->

        <!-- End of body Javascript  -->
        <!-- ======================================================================================= -->
        <!-- Syntax Highlighting init -->
        <script>
          hljs.initHighlightingOnLoad();
        </script>
        <!-- Google Analytics -->
        <script>

        </script>


  </body>
</html>
